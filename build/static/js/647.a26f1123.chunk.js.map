{"version":3,"file":"static/js/647.a26f1123.chunk.js","mappings":"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","sources":["Components/CommonHeader/index.jsx","Components/TableColumns/index.jsx","Components/AddSalesOrderModal/index.jsx","Components/EditSalesOrderModal/CommonContext.jsx","Components/EditSalesOrderModal/EditableCell.jsx","Components/EditSalesOrderModal/EditableRow.jsx","Components/EditSalesOrderModal/index.jsx","Utils/excel.jsx","Pages/SaleOrder/index.jsx","Styled/Button/index.jsx","api/sales/index.js"],"sourcesContent":["import { CaretLeft } from \"@phosphor-icons/react\";\nimport { RowFlex, StyledText } from \"../../Styled/Layout\";\n\nconst CommonHeader = (props) => {\n  const {title, onBack, rightContent, bgc} = props;\n  return (\n    <RowFlex\n          w=\"100%\"\n          h=\"56px\"\n          m=\"0\"\n          p=\"10px 20px\"\n          bg={bgc}\n    >\n      <RowFlex m=\"auto 0\" gap=\"10px\">\n        <CaretLeft size={24} color=\"#fff\" onClick={onBack} />\n        <StyledText fs=\"18px\" lh=\"24px\" fw=\"600\" ff=\"Inter\" c=\"#fff\" mb=\"auto\">\n            {title}\n        </StyledText>\n      </RowFlex>\n      {rightContent}\n    </RowFlex>\n  );\n};\n\nexport default CommonHeader;\n","export const statusDesign = {\n  \"PENDING\": \"orange\",\n  \"PACKED\": \"purple\",\n  \"SENT\": \"blue\",\n  \"DONE\": \"green\",\n  \"CANCELLED\": \"red\",\n}\n","import { useState } from \"react\";\nimport { Button, DatePicker, Form, Input, message, Modal, Radio, Select, Space } from \"antd\";\nimport { MinusCircle, PlusCircle } from \"@phosphor-icons/react\";\nimport dayjs from 'dayjs';\nimport { addSaleOrder } from \"../../api/sales\";\nimport { addCommas, ContainerTypes, handleCatch, ItemUnits } from \"../../common-utils\";\nimport { StyledDiv } from \"../../Styled/Layout\";\nconst dateTimestamp = dayjs().valueOf();\n\nconst AddSalesOrder = (props) => {\n    const { open, onClose, allContacts, allItems, allAgents, fetchOrders } = props;\n    const [loading, setLoading] = useState(false);\n    const [totalAmount, setTotalAmount] = useState(0);\n    const [form] = Form.useForm();\n\n    const onFinish = async (values) => {\n        setLoading(true);\n        const payload = {\n            saleOrder: {\n                contactId: values.contactId,\n                agentId: values.agentId,\n                saleType: values.saleType,\n            },\n            lineItems: values.lineItems?.map((item) => {\n                return {\n                    itemId: item.itemId,\n                    type: 'SALE_ORDER',\n                    quantity: item.quantity,\n                    unit: item.unit,\n                    rate: item.rate,\n                    itemTotal: item.quantity * item.rate,\n                }\n            }),\n            containers: values.containers\n        }\n        try {\n            await addSaleOrder(payload);\n            message.success('sale order added successfully');\n            fetchOrders();\n            closePopup();\n        } catch (err) {\n            handleCatch(err);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const handleItemTotal = () => {\n        const lineItems = form.getFieldValue('lineItems');\n        let total = 0;\n        for (const item of lineItems) {\n            const { quantity, rate } = item;\n            total += rate && quantity ? rate * quantity : 0;\n        }\n        setTotalAmount(total);\n    }\n\n    const closePopup = () => {\n        form.resetFields();\n        onClose();\n    }\n\n    return (\n        <Modal\n            title=\"Add Sales\"\n            footer={null}\n            loading={loading}\n            open={open}\n            onCancel={closePopup}\n            styles={{ content: { padding: '10px' } }}\n            style={{top: '50px'}}\n        >\n            <StyledDiv pos=\"absolute\" top=\"10px\" right=\"50px\" c=\"#00000088\" style={{fontWeight: '600', fontSize: '16px'}}>Total : ₹ {addCommas(totalAmount)}</StyledDiv>\n            <Form\n                form={form}\n                labelCol={{ xs: { span: 10 }, sm: { span: 8 } }}\n                wrapperCol={{ xs: { span: 14 }, sm: { span: 16 } }}\n                initialValues={{\n                    saleType: 'local',\n                    date: dateTimestamp\n                }}\n                layout=\"horizontal\"\n                size=\"middle\"\n                style={{\n                    maxWidth: 600,\n                    margin: '20px 0 10px'\n                }}\n                onFinish={onFinish}\n            >\n                <Form.Item\n                    name=\"date\"\n                    wrapperCol={{ span: 24 }}\n                    style={{ textAlign: 'right' }}\n                    rules={[\n                        {\n                            required: true,\n                        },\n                    ]}\n                    getValueProps={(value) => ({\n                        value: value && dayjs(Number(value)),\n                    })}\n                    normalize={(value) => value && `${dayjs(value).valueOf()}`}\n                >\n                    <DatePicker format=\"DD/MM/YYYY\" />\n                </Form.Item>\n                <Form.Item name=\"contactId\" wrapperCol={{ span: 24 }} rules={[{ required: true, message: 'Please select a customer!' }]}>\n                    <Select\n                        showSearch\n                        placeholder=\"Select Customer\"\n                        optionFilterProp=\"label\"\n                        filterSort={(optionA, optionB) =>\n                            (optionA?.label ?? '').toLowerCase().localeCompare((optionB?.label ?? '').toLowerCase())\n                        }\n                        options={allContacts}\n                    />\n                </Form.Item>\n                <Form.Item\n                    name=\"saleType\"\n                    label=\"sale type\"\n                    rules={[\n                        {\n                            required: true,\n                            message: 'Please pick an item!',\n                        },\n                    ]}>\n                    <Radio.Group>\n                        <Radio.Button value=\"local\">Local</Radio.Button>\n                        <Radio.Button value=\"interState\">InterState</Radio.Button>\n                    </Radio.Group>\n                </Form.Item>\n                <Form.Item\n                    noStyle\n                    shouldUpdate={(prevValues, currentValues) => prevValues.saleType !== currentValues.saleType}\n                >\n                    {({ getFieldValue }) =>\n                        getFieldValue('saleType') === 'interState' ? (\n                            <Form.Item name=\"agentId\" label=\"Agent\">\n                                <Select\n                                    showSearch\n                                    placeholder=\"Select Agent\"\n                                    optionFilterProp=\"label\"\n                                    popupMatchSelectWidth={false}\n                                    filterSort={(optionA, optionB) =>\n                                        (optionA?.label ?? '').toLowerCase().localeCompare((optionB?.label ?? '').toLowerCase())\n                                    }\n                                    options={allAgents}\n                                />\n                            </Form.Item>\n                        ) : null}\n                </Form.Item>\n                <Form.List\n                    name=\"lineItems\"\n                    rules={[\n                        {\n                            validator: async (_, names) => {\n                                if (!names || names.length < 1) {\n                                    return Promise.reject(new Error('At least 1 Item'));\n                                }\n                            },\n                        },\n                    ]}\n                >\n                    {(fields, { add, remove }, { errors }) => (\n                        <>\n                            {fields.map(({ key, name, ...restField }) => (\n                                <Space\n                                    key={key}\n                                    style={{\n                                        display: 'flex'\n                                    }}\n                                    align=\"baseline\"\n                                >\n                                    <Form.Item\n                                        {...restField}\n                                        name={[name, 'itemId']}\n                                        wrapperCol={{ span: 24 }}\n                                        rules={[\n                                            {\n                                                required: true,\n                                                message: 'Missing item',\n                                            },\n                                        ]}\n                                    >\n                                        <Select\n                                            showSearch\n                                            placeholder=\"items\"\n                                            optionFilterProp=\"label\"\n                                            popupMatchSelectWidth={false}\n                                            filterSort={(optionA, optionB) =>\n                                                (optionA?.label ?? '').toLowerCase().localeCompare((optionB?.label ?? '').toLowerCase())\n                                            }\n                                            options={allItems}\n                                            style={{ width: '100%', maxWidth: '80px' }}\n                                        >\n                                        </Select>\n                                    </Form.Item>\n                                    <Form.Item\n                                        {...restField}\n                                        name={[name, 'quantity']}\n                                        wrapperCol={{ span: 24 }}\n                                        rules={[\n                                            {\n                                                required: true,\n                                                message: 'Missing quantity',\n                                            },\n                                        ]}\n                                    >\n                                        <Input placeholder=\"Qtn\" type=\"number\" style={{ marginBottom: 0 }} onChange={handleItemTotal} />\n                                    </Form.Item>\n                                    <Form.Item\n                                        {...restField}\n                                        name={[name, 'unit']}\n                                        wrapperCol={{ span: 24 }}\n                                        rules={[\n                                            {\n                                                required: true,\n                                                message: 'Missing unit',\n                                            },\n                                        ]}\n                                        initialValue={'kg'}\n                                    >\n                                        <Select\n                                            placeholder=\"units\"\n                                            style={{ width: '100%' }}\n                                        >\n                                            {ItemUnits.map(unit => (\n                                                <Select.Option key={unit} value={unit}>{unit}</Select.Option>\n                                            ))}\n                                        </Select>\n                                    </Form.Item>\n                                    <Form.Item\n                                        {...restField}\n                                        name={[name, 'rate']}\n                                        wrapperCol={{ span: 24 }}\n                                    >\n                                        <Input placeholder=\"Rate\" prefix=\"₹\" type=\"number\" style={{ marginBottom: 0 }} onChange={handleItemTotal} />\n                                    </Form.Item>\n                                    <MinusCircle size={24} color=\"#000\" style={{ marginBottom: \"-7px\" }} onClick={() => {\n                                        remove(name);\n                                        handleItemTotal()\n                                    }} />\n                                </Space>\n                            ))}\n                            <Form.Item\n                                wrapperCol={{ span: 24 }}\n                            >\n                                <Button type=\"dashed\" onClick={() => add()} block icon={<PlusCircle size={24} color=\"#000\" />}>\n                                    Add Item\n                                </Button>\n                                <Form.ErrorList errors={errors} />\n                            </Form.Item>\n                        </>\n                    )}\n                </Form.List>\n                <Form.List\n                    name=\"containers\"\n                >\n                    {(fields, { add, remove }, { errors }) => (\n                        <>\n                            {fields.map(({ key, name, ...restField }) => (\n                                <Space\n                                    key={key}\n                                    style={{\n                                        display: 'flex'\n                                    }}\n                                    align=\"baseline\"\n                                >\n                                    <Form.Item\n                                        {...restField}\n                                        name={[name, 'type']}\n                                        wrapperCol={{ span: 24 }}\n                                        rules={[\n                                            {\n                                                required: true,\n                                                message: 'Missing type',\n                                            },\n                                        ]}\n                                    >\n                                        <Select\n                                            placeholder=\"type\"\n                                            style={{ width: '100%' }}\n                                            popupMatchSelectWidth={false}\n                                        >\n                                            {ContainerTypes.map(type => (\n                                                <Select.Option key={type} value={type}>{type}</Select.Option>\n                                            ))}\n                                        </Select>\n                                    </Form.Item>\n                                    <Form.Item\n                                        {...restField}\n                                        name={[name, 'quantity']}\n                                        wrapperCol={{ span: 24 }}\n                                        rules={[\n                                            {\n                                                required: true,\n                                                message: 'Missing quantity',\n                                            },\n                                        ]}\n                                    >\n                                        <Input placeholder=\"Qtn\" type=\"number\" style={{ marginBottom: 0 }} />\n                                    </Form.Item>\n                                    <MinusCircle size={24} color=\"#000\" style={{ marginBottom: \"-7px\" }} onClick={() => remove(name)} />\n                                </Space>\n                            ))}\n                            <Form.Item\n                                wrapperCol={{ span: 24 }}\n                            >\n                                <Button type=\"dashed\" onClick={() => add()} block icon={<PlusCircle size={24} color=\"#000\" />}>\n                                    Add Containers\n                                </Button>\n                                <Form.ErrorList errors={errors} />\n                            </Form.Item>\n                        </>\n                    )}\n                </Form.List>\n                <div\n                    style={{\n                        textAlign: 'right',\n                    }}\n                >\n                    <Button type=\"primary\" htmlType=\"submit\">\n                        Submit\n                    </Button>\n                </div>\n\n            </Form>\n        </Modal>\n    );\n};\n\nexport default AddSalesOrder;\n","import React from \"react\";\n\nconst EditableContext = React.createContext(null);\nexport default EditableContext;","import { useContext, useEffect, useRef, useState } from \"react\";\nimport { Form, Input, Select } from \"antd\";\nimport EditableContext from \"./CommonContext\";\nimport { ContainerTypes, ItemUnits } from \"../../common-utils\";\n\nexport const ItemTableEditableCell = ({\n    title,\n    editable,\n    children,\n    dataIndex,\n    record,\n    allItems,\n    itemNameToIdMap,\n    handleSave,\n    ...restProps\n}) => {\n    const [editing, setEditing] = useState(false);\n    const inputRef = useRef(null);\n    const form = useContext(EditableContext);\n    useEffect(() => {\n        if (editing) {\n            inputRef.current?.focus();\n        }\n    }, [editing]);\n    const toggleEdit = () => {\n        setEditing(!editing);\n        form.setFieldsValue({\n            [dataIndex]: record[dataIndex],\n        });\n    };\n    const save = async () => {\n        try {\n            const values = await form.validateFields();\n            toggleEdit();\n            switch(dataIndex) {\n                case \"itemId\":\n                    values.itemDetails = {\n                        ...values.itemDetails,\n                        name: itemNameToIdMap.get(values.itemId)\n                    }\n                    break;\n                case \"quantity\":\n                case \"rate\":\n                    const { rate, quantity } = values;\n                    values.itemTotal = ((rate || record.rate) * (quantity || record.quantity)) || 0;\n                    break;\n                default:\n            }\n            handleSave({\n                ...record,\n                ...values,\n            });\n        } catch (errInfo) {\n            console.log('Save failed:', errInfo);\n        }\n    };\n\n    const formField = () => {\n        switch(dataIndex) {\n            case \"itemId\":\n                return <Select\n                        showSearch\n                        ref={inputRef}\n                        optionFilterProp=\"label\"\n                        popupMatchSelectWidth={false}\n                        filterSort={(optionA, optionB) =>\n                            (optionA?.label ?? '').toLowerCase().localeCompare((optionB?.label ?? '').toLowerCase())\n                        }\n                        options={allItems}\n                        onChange={save}\n                        onBlur={save}\n                    >\n                    </Select>\n            case \"unit\":\n                return <Select \n                        placeholder=\"units\"\n                        style={{width: '100%'}}\n                        onChange={save}\n                        onBlur={save}\n                    >\n                        {ItemUnits.map(unit => (\n                            <Select.Option key={unit} value={unit}>{unit}</Select.Option>\n                        ))}\n                    </Select>\n            case \"rate\":\n            case \"quantity\":\n                return <Input ref={inputRef} onPressEnter={save} onBlur={save} type=\"number\" />;\n            default:\n                return <Input ref={inputRef} onPressEnter={save} onBlur={save} />;\n        }\n    }\n    let childNode = children;\n    if (editable) {\n        childNode = editing ? (\n            <Form.Item\n                style={{ margin: 0 }}\n                name={dataIndex}\n                rules={[{ required: true, message: `${title} is required.` }]}\n            >\n                { formField() }\n            </Form.Item>\n        ) : (\n            <div\n                className=\"editable-cell-value-wrap\"\n                style={{\n                    paddingInlineEnd: 24,\n                }}\n                onClick={toggleEdit}\n            >\n                {children}\n            </div>\n        );\n    }\n    return <td {...restProps}>{childNode}</td>;\n};\n\nexport const ContainerTableEditableCell = ({\n    title,\n    editable,\n    children,\n    dataIndex,\n    record,\n    allAgents,\n    itemNameToIdMap,\n    handleSave,\n    ...restProps\n}) => {\n    const [editing, setEditing] = useState(false);\n    const inputRef = useRef(null);\n    const form = useContext(EditableContext);\n    useEffect(() => {\n        if (editing) {\n            inputRef.current?.focus();\n        }\n    }, [editing]);\n    const toggleEdit = () => {\n        setEditing(!editing);\n        form.setFieldsValue({\n            [dataIndex]: record[dataIndex],\n        });\n    };\n    const save = async () => {\n        try {\n            const values = await form.validateFields();\n            toggleEdit();\n            handleSave({\n                ...record,\n                ...values,\n            });\n        } catch (errInfo) {\n            console.log('Save failed:', errInfo);\n        }\n    };\n\n    const formField = () => {\n        switch(dataIndex) {\n            case \"type\":\n                return <Select\n                        showSearch\n                        ref={inputRef}\n                        optionFilterProp=\"label\"\n                        popupMatchSelectWidth={false}\n                        filterSort={(optionA, optionB) =>\n                            (optionA?.label ?? '').toLowerCase().localeCompare((optionB?.label ?? '').toLowerCase())\n                        }\n                        options={ContainerTypes.map(type => ({label: type, value: type}))}\n                        onChange={save}\n                        onBlur={save}\n                    >\n                    </Select>\n            case \"quantity\":\n                return <Input ref={inputRef} onPressEnter={save} onBlur={save} type=\"number\" />;\n            default:\n                return <Input ref={inputRef} onPressEnter={save} onBlur={save} />;\n        }\n    }\n    let childNode = children;\n    if (editable) {\n        childNode = editing ? (\n            <Form.Item\n                style={{ margin: 0 }}\n                name={dataIndex}\n                rules={[{ required: true, message: `${title} is required.` }]}\n            >\n                { formField() }\n            </Form.Item>\n        ) : (\n            <div\n                className=\"editable-cell-value-wrap\"\n                style={{\n                    paddingInlineEnd: 24,\n                }}\n                onClick={toggleEdit}\n            >\n                {children}\n            </div>\n        );\n    }\n    return <td {...restProps}>{childNode}</td>;\n};","import { Form } from \"antd\";\nimport EditableContext from \"./CommonContext\";\n\nexport const ItemTableEditableRow = ({ index, ...props }) => {\n    const [form] = Form.useForm();\n    return (\n        <Form form={form} component={false}>\n            <EditableContext.Provider value={form}>\n                <tr {...props} />\n            </EditableContext.Provider>\n        </Form>\n    );\n};\n\nexport const ContainerTableEditableRow = ({ index, ...props }) => {\n    const [form] = Form.useForm();\n    return (\n        <Form form={form} component={false}>\n            <EditableContext.Provider value={form}>\n                <tr {...props} />\n            </EditableContext.Provider>\n        </Form>\n    );\n};\n","import { useEffect, useState } from \"react\";\nimport { Button, DatePicker, message, Modal, Radio, Select, Table } from \"antd\";\nimport { MinusCircle, PlusCircle } from \"@phosphor-icons/react\";\nimport dayjs from 'dayjs';\nimport { updateSaleOrder } from \"../../api/sales\";\nimport { handleCatch, handleTableChange } from \"../../common-utils\";\nimport { ColFlex, RowFlex, StyledText } from \"../../Styled/Layout\";\nimport { ContainerTableEditableCell, ItemTableEditableCell } from \"./EditableCell\";\nimport { ContainerTableEditableRow, ItemTableEditableRow } from \"./EditableRow\";\nimport { StyledPillButton } from \"../../Styled/Button\";\n\nconst EditSalesOrder = (props) => {\n    const { open, onClose, saleOrder, allContacts, allItems, allAgents, itemNameToIdMap } = props;\n    const [contactId, setContactId] = useState(null);\n    const [agentId, setAgentId] = useState(null);\n    const [lineItems, setLineItems] = useState([]);\n    const [container, setContainers] = useState([]);\n    const [loading, setLoading] = useState(false);\n    const [currentPage, setCurrentPage] = useState(1);\n    const [date, setDate] = useState(null);\n    const [saleType, setSaleType] = useState();\n    const pageSize = 10;\n\n    const onFinish = async () => {\n        if (!saleOrder) {\n            message.error('Sale order not found');\n            return;\n        }\n        setLoading(true);\n        const saleOrderData = {};\n        if (contactId?.value && contactId.value != saleOrder.contactId) {\n            saleOrderData.contactId = contactId.value;\n        }\n        if (saleType != saleOrder.saleType) {\n            saleOrderData.saleType = saleType;\n        }\n        if(saleType == \"interState\" && agentId?.value && agentId.value != saleOrder.agentId) {\n            saleOrderData.agentId = agentId.value;\n        } else if(saleType == \"local\" && saleOrder.agentId != null) {\n            saleOrderData.agentId = null;\n        }\n        if (!dayjs(saleOrder.date).isSame(date, 'day')) {\n            saleOrderData.date = date.valueOf();\n        }\n        try {\n            await updateSaleOrder(saleOrder.id, {\n                saleOrder: saleOrderData,\n                lineItems,\n                containers: container\n            });\n            message.success('sale order updated successfully');\n        } catch (err) {\n            handleCatch(err);\n            onClose();\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const handleAdd = () => {\n        const newData = {\n            \"id\": lineItems.length,\n            \"itemId\": 1,\n            \"itemTotal\": 0,\n            \"quantity\": \"\",\n            \"rate\": \"\",\n            \"unit\": \"kg\",\n            \"itemDetails\": {\n                \"name\": \"broccoli\"\n            }\n        };\n        const updatedLineItems = [...lineItems, newData];\n        setLineItems(updatedLineItems);\n\n        if (Math.ceil(updatedLineItems.length / pageSize) > 1) {\n            setCurrentPage(Math.ceil(updatedLineItems.length / pageSize));\n        }\n    };\n\n    const handleDelete = (id) => {\n        if (lineItems.length <= 1) {\n            message.error('At least one item should be present');\n            return;\n        }\n        const newData = lineItems.filter((item) => item.id !== id);\n        setLineItems(newData);\n    };\n\n    const handleSave = (row) => {\n        const newData = [...lineItems];\n        const index = newData.findIndex((item) => row.id === item.id);\n        const item = newData[index];\n        newData.splice(index, 1, {\n            ...item,\n            ...row,\n        });\n        setLineItems(newData);\n    };\n\n    const handleContainerAdd = () => {\n        const newData = {\n            \"id\": container.length,\n            \"type\": \"whiteBox\",\n            \"quantity\": 1\n        };\n        const updatedContainers = [...container, newData];\n        setContainers(updatedContainers);\n    };\n\n    const handleContainerDelete = (id) => {\n        const newData = container.filter((item) => item.id !== id);\n        setContainers(newData);\n    };\n\n    const handleContainerSave = (row) => {\n        const newData = [...container];\n        const index = newData.findIndex((item) => row.id === item.id);\n        const item = newData[index];\n        newData.splice(index, 1, {\n            ...item,\n            ...row,\n        });\n        setContainers(newData);\n    };\n\n    const itemsTableColumn = [\n        {\n            title: 'Item Name',\n            dataIndex: 'itemId',\n            render: (data) => <>{itemNameToIdMap.get(data)}</>\n        },\n        {\n            title: 'Qtn',\n            dataIndex: 'quantity',\n        },\n        {\n            title: 'unit',\n            dataIndex: 'unit',\n        },\n        {\n            title: 'rate',\n            dataIndex: 'rate',\n        }\n    ];\n    const containerTableColumn = [\n        {\n            title: 'type',\n            dataIndex: 'type',\n            editable: true,\n            onCell: (record) => ({\n                record,\n                editable: true,\n                dataIndex: 'type',\n                title: 'type',\n                handleSave: handleContainerSave\n            }),\n        },\n        {\n            title: 'Qtn',\n            dataIndex: 'quantity',\n            editable: true,\n            onCell: (record) => ({\n                record,\n                editable: true,\n                dataIndex: 'quantity',\n                title: 'Qtn',\n                handleSave: handleContainerSave\n            }),\n        },\n        {\n            width: 1,\n            render: (_, record, i) =>\n                lineItems.length >= 1 ? (\n                    <MinusCircle size={24} color=\"rgb(140,140,140)\" onClick={() => handleContainerDelete(record.id)} />\n                ) : null,\n        }\n    ];\n\n    const columns = [...(itemsTableColumn.map((col) => {\n        return {\n            ...col,\n            editable: true,\n            onCell: (record) => ({\n                record,\n                editable: true,\n                dataIndex: col.dataIndex,\n                title: col.title,\n                allItems,\n                itemNameToIdMap,\n                handleSave,\n            }),\n        };\n    })),\n    {\n        width: 1,\n        render: (_, record) =>\n            lineItems.length >= 1 ? (\n                <MinusCircle size={24} color=\"rgb(140,140,140)\" onClick={() => handleDelete(record.id)} />\n            ) : null,\n    }\n    ];\n\n    useEffect(() => {\n        const { date, items, saleType, contactId, agentId, containers } = saleOrder || {};\n        setLineItems(items || []);\n        setContainers(containers || []);\n        setDate(dayjs(date));\n        setSaleType(saleType);\n        setContactId(contactId);\n        setAgentId(agentId)\n    }, [saleOrder]);\n\n    return (\n        <Modal\n            title=\"Edit Sale\"\n            footer={null}\n            loading={loading}\n            open={open}\n            onCancel={onClose}\n            styles={{ content: { padding: '10px' } }}\n            style={{ maxWidth: \"fit-content\", top: '50px' }}\n            width=\"fit-content\"\n        >\n            <ColFlex gap=\"15px\">\n                <DatePicker value={date} style={{ alignSelf: \"end\", marginTop: \"10px\" }} format=\"DD/MM/YYYY\" onChange={(e, v) => setDate(dayjs(v, \"DD/MM/YYYY\"))} />\n                <Select\n                    showSearch\n                    value={contactId}\n                    placeholder=\"Select Customers\"\n                    optionFilterProp=\"label\"\n                    filterSort={(optionA, optionB) =>\n                        (optionA?.label ?? '').toLowerCase().localeCompare((optionB?.label ?? '').toLowerCase())\n                    }\n                    options={allContacts}\n                    style={{ width: '100%' }}\n                    onChange={(e, v) => setContactId(v)}\n                />\n                <RowFlex m=\"0\">\n                    <StyledText m=\"auto 20px auto 0\" fs=\"14px\" ff=\"Inter\">Sale Type : </StyledText>\n                    <Radio.Group\n                        options={[\n                            { label: \"Local\", value: \"local\" },\n                            { label: \"InterState\", value: \"interState\" }\n                        ]}\n                        value={saleType}\n                        optionType=\"button\"\n                        onChange={(e) => setSaleType(e.target.value)}\n                    />\n                </RowFlex>\n                {saleType == \"interState\" &&\n                    <RowFlex m=\"0\">\n                        <StyledText m=\"auto 20px auto 0\" fs=\"14px\" ff=\"Inter\">Agent : </StyledText>\n                        <Select\n                            showSearch\n                            value={agentId}\n                            placeholder=\"Select Agent\"\n                            optionFilterProp=\"label\"\n                            popupMatchSelectWidth={false}\n                            filterSort={(optionA, optionB) =>\n                                (optionA?.label ?? '').toLowerCase().localeCompare((optionB?.label ?? '').toLowerCase())\n                            }\n                            options={allAgents}\n                            onChange={(e, v) => setAgentId(v)}\n                        />\n                    </RowFlex>}\n                <Table\n                    bordered\n                    size=\"middle\"\n                    columns={columns}\n                    dataSource={lineItems}\n                    rowClassName={() => 'editable-row'}\n                    pagination={{\n                        position: [\"none\", \"bottomCenter\"],\n                        pageSize,\n                        onChange: (p) => handleTableChange(p, setCurrentPage),\n                        current: currentPage\n                    }}\n                    components={{\n                        body: {\n                            row: ItemTableEditableRow,\n                            cell: ItemTableEditableCell,\n                        }\n                    }}\n                    footer={() => <Button type=\"dashed\" onClick={handleAdd} block icon={<PlusCircle size={24} color=\"rgb(140,140,140)\" />}>\n                        Add Item\n                    </Button>\n                    }\n                    style={{ width: '100%', marginLeft: 0 }}\n                />\n                <Table\n                    bordered\n                    size=\"middle\"\n                    columns={containerTableColumn}\n                    dataSource={container}\n                    rowClassName={() => 'editable-row'}\n                    pagination={false}\n                    components={{\n                        body: {\n                            row: ContainerTableEditableRow,\n                            cell: ContainerTableEditableCell,\n                        }\n                    }}\n                    footer={() => <Button type=\"dashed\" onClick={handleContainerAdd} block icon={<PlusCircle size={24} color=\"rgb(140,140,140)\" />}>\n                        Add Container\n                    </Button>\n                    }\n                    style={{ width: '100%', marginLeft: 0 }}\n                />\n                <StyledPillButton c=\"#fff\" w=\"80px\" h=\"42px\" type=\"primary\" onClick={onFinish} style={{ alignSelf: \"center\" }}>\n                    Save\n                </StyledPillButton>\n            </ColFlex>\n        </Modal>\n    );\n};\n\nexport default EditSalesOrder;\n","import dayjs from 'dayjs';\nconst XLSX = require(\"xlsx\");\n// import XLSX from 'xlsx';\n\nexport const downloadExcel = (salesData, startDate, endDate) => {\n    // Helper to format date\n    const formatDate = (dateString) => dayjs(dateString).format(\"DD-MM-YYYY\");\n\n    // Group sales data by date\n    const salesByDate = salesData.reduce((acc, order) => {\n        const date = formatDate(order.date);\n        if (!acc[date]) acc[date] = [];\n        acc[date].push(order);\n        return acc;\n    }, {});\n\n    // Create a new workbook\n    const workbook = XLSX.utils.book_new();\n\n    Object.keys(salesByDate).forEach(date => {\n        // Prepare data rows for each date\n        const dataRows = salesByDate[date].flatMap(order =>\n            order.items.map((item, index) => ({\n                \"Contact Name\": index === 0 ? order.contactName : \"\",\n                \"Sales Order Number\": index === 0 ? order.salesOrderNumber : \"\",\n                \"Sale Type\": index === 0 ? order.saleType : \"\",\n                \"Status\": index === 0 ? order.status : \"\",\n                \"Invoice Status\": index === 0 ? order.invoiceStatus : \"\",\n                \"Date\": index === 0 ? formatDate(order.date) : \"\",\n                \"Amount\": index === 0 ? order.amount : \"\",\n                \"Item Name\": item.itemDetails.name,\n                \"Rate\": item.rate,\n                \"Quantity\": item.quantity,\n                \"Unit\": item.unit,\n                \"Item Total\": item.itemTotal\n            }))\n        );\n\n        // Create a worksheet for each date\n        const worksheet = XLSX.utils.json_to_sheet(dataRows);\n        XLSX.utils.book_append_sheet(workbook, worksheet, date);\n    });\n\n    // Write workbook to file\n    XLSX.writeFile(workbook, `${startDate}-${endDate}_sales.xlsx`);\n\n    console.log(\"Excel file has been created successfully.\");\n}\n","import { useEffect, useState } from \"react\";\nimport { DatePicker, Descriptions, message, Select, Table } from \"antd\";\nimport { addCommas, checkAccess, handleCatch, screenHeight } from \"../../common-utils\";\nimport CommonHeader from \"../../Components/CommonHeader\";\nimport { ColFlex, RowFlex, StyledDiv, StyledText } from \"../../Styled/Layout\";\nimport { statusDesign } from \"../../Components/TableColumns\";\nimport { fetchAllContacts, fetchAllItems, fetchSalesOrder, updateSalesOrderStatus } from \"../../api/sales\";\nimport AddSalesOrder from \"../../Components/AddSalesOrderModal\";\nimport { StyledButton } from \"../../Styled/Button\";\nimport { ArrowsClockwise, CaretCircleLeft, CaretCircleRight, DownloadSimple, Plus } from \"@phosphor-icons/react\";\nimport EditSalesOrder from \"../../Components/EditSalesOrderModal\";\nimport { PencilSimple } from \"@phosphor-icons/react\";\nimport { Tag } from \"antd\";\nimport dayjs from 'dayjs';\nimport { downloadExcel } from \"../../Utils/excel\";\nimport { fetchAllAgents } from \"../../api\";\nimport { useNavigate } from \"react-router-dom\";\n\nconst SaleOrderStatus = [\n  {value: 'PENDING', label: <StyledText ta=\"left\" fs=\"14px\" fw=\"600\" c={statusDesign['PENDING']}>Pending</StyledText>},\n  {value: 'PACKED', label: <StyledText ta=\"left\" fs=\"14px\" fw=\"600\" c={statusDesign['PACKED']}>Packed</StyledText>},\n  {value: 'SENT', label: <StyledText ta=\"left\" fs=\"14px\" fw=\"600\" c={statusDesign['SENT']}>Sent</StyledText>},\n  {value: 'DONE', label: <StyledText ta=\"left\" fs=\"14px\" fw=\"600\" c={statusDesign['DONE']}>Done</StyledText>},\n  {value: 'CANCELLED', label: <StyledText ta=\"left\" fs=\"14px\" fw=\"600\" c={statusDesign['CANCELLED']}>Cancelled</StyledText>}\n];\n\nconst SaleOrder = () => {\n  const navigate = useNavigate();\n  const [saleOrderData, setSaleOrderData] = useState([]);\n  const [filteredSaleOrders, setFilteredSaleOrders] = useState([]);\n  const [addSaleModalOpen, setAddSaleModalOpen] = useState(false);\n  const [editSaleModalOpen, setEditSaleModalOpen] = useState(false);\n  const [selectedSaleOrder, setSelectedSaleOrder] = useState(null);\n  const [allContacts, setAllContacts] = useState([]);\n  const [itemNameToIdMap, setItemNameToIdMap] = useState(new Map());\n  const [allItems, setAllItems] = useState([]);\n  const [allAgents, setAllAgents] = useState([]);\n  const [date, setDate] = useState([dayjs(), dayjs()]);\n  const [isdateChangeBtnVisible, setIsdateChangeBtnVisible] = useState(true);\n\n  //filters\n  const [selectedContact, setSelectedContact] = useState(null);\n  const [selectedStatus, setSelectedStatus] = useState(null);\n\n  const handleStatusChange = async (id, status, newStatus) => {\n    try {\n      // Optimistically update the table\n      const updatedData = filteredSaleOrders.map((item) => \n        item.id === id ? { ...item, status: newStatus } : item\n      );\n      setFilteredSaleOrders(updatedData);\n  \n      // Send the update to the backend\n      const response = await updateSalesOrderStatus(id, { status: newStatus });\n    } catch (error) {\n      handleCatch(error);\n  \n      // Revert the optimistic update if the API call fails\n      const originalData = filteredSaleOrders.map((item) =>\n        item.id === id ? { ...item, status: status } : item\n      );\n      setFilteredSaleOrders(originalData);\n    }\n  };\n\n  const columns = [\n    {\n      title: 'Name',\n      dataIndex: 'contactName',\n      filteredValue: selectedContact && [selectedContact],\n      onFilter: (value, record) => record.contactId == value\n    }\n  ];\n\n  if (checkAccess('EDIT_SALE_ORDER')) {\n    columns.push({\n      title: 'Status',\n      dataIndex: 'status',\n      filteredValue: selectedStatus && [selectedStatus],\n      onFilter: (value, record) => record.status == value,\n      render: (data, record) => <Select\n          value={data}\n          options={SaleOrderStatus}\n          style={{ width: 'fit-content'}}\n          popupMatchSelectWidth={false}\n          onClick={(e) => e.stopPropagation()}\n          onChange={(newStatus) => handleStatusChange(record.id, data, newStatus)}\n      />\n    },{\n      key: 'action',\n      render: (_, rowData) => <PencilSimple size={18} color=\"rgba(0, 0, 0, 0.58)\" weight=\"fill\" onClick={(e) => {\n        e.stopPropagation();\n        setSelectedSaleOrder(rowData);\n        setEditSaleModalOpen(true);\n      }} />,\n      width: 1\n    })\n  } else {\n    columns.push({\n      title: 'Status',\n      dataIndex:'status',\n      render: (data) => <Tag color={statusDesign[data]}>\n        {data.toLowerCase()}\n      </Tag>\n    })\n  }\n\n  const itemsTableColumn = [\n    {\n      title: 'Item Name',\n      dataIndex: 'itemId',\n      render: (data) => <>{allItems.find((e) => e.value == data).label}</>\n    },\n    {\n      title: 'Qtn',\n      dataIndex: 'quantity',\n    },\n    {\n      title: 'unit',\n      dataIndex: 'unit',\n    },\n    {\n      title: 'rate',\n      dataIndex: 'rate',\n    }\n  ];\n\n  const handleDownload = () => {\n    if(!filteredSaleOrders?.length){\n      message.error(\"No Sale Order Found!!\");\n      return;\n    }\n    downloadExcel(filteredSaleOrders, date[0].format(\"DD/MM/YYYY\"), date[1].format(\"DD/MM/YYYY\"))\n  }\n\n  const HeaderContent = () => {\n    return (\n      <RowFlex m=\"0\" gap=\"20px\">\n        <StyledButton h=\"32px\" shape=\"circle\" icon={<Plus size={18} color=\"#6a8099\" weight=\"bold\" />} onClick={() => setAddSaleModalOpen(true)} style={{margin: \"auto\"}} />\n        <DownloadSimple size={24} color=\"#fff\" style={{ alignSelf: \"end\", margin: \"auto\" }} onClick={handleDownload} />\n      </RowFlex>\n    )\n  }\n\n  const getAllContacts = async () => {\n    try {\n      const res = await fetchAllContacts();\n      if (res.status == 200) {\n        const contactForSelect = res.data?.map((contact) => {\n          return {\n            value: contact.id,\n            label: contact.displayName || \"-\"\n          }\n        })\n        setAllContacts(contactForSelect);\n      }\n    } catch (err) {\n      handleCatch(err);\n    }\n  }\n\n  const getAllItems = async () => {\n    try {\n      const res = await fetchAllItems();\n      if (res.status == 200) {\n        const itemsMap = new Map();\n        const itemsForSelect = res.data?.map((item) => {\n          if (!itemsMap.has(item.id)) itemsMap.set(item.id, item.name);\n          return {\n            value: item.id,\n            label: item.name\n          }\n        })\n        setAllItems(itemsForSelect);\n        setItemNameToIdMap(itemsMap);\n      }\n    } catch (err) {\n      handleCatch(err);\n    }\n  }\n\n  const getAllAgents = async () => {\n    try {\n      const res = await fetchAllAgents();\n      if (res.status == 200) {\n        const AgentsForSelect = res.data?.map((agent) => {\n          return {\n            value: agent.id,\n            label: agent.displayName\n          }\n        })\n        setAllAgents(AgentsForSelect);\n      }\n    } catch (err) {\n      handleCatch(err);\n    }\n  }\n\n  const fetchOrders = async () => {\n    try {\n      const res = await fetchSalesOrder({\n        startDate: date[0].startOf('day').valueOf(),\n        endDate: date[1].endOf('day').valueOf()\n      });\n      if (res.status == 200) {\n        setSaleOrderData(res.data);\n        setFilteredSaleOrders(res.data);\n      }\n    } catch (err) {\n      handleCatch(err);\n    }\n  }\n\n  const onDateChange = (_, dates) => {\n    const dateFunc = dates.map(date => dayjs(date, \"DD/MM/YYYY\"))\n    setDate(dateFunc);\n  }\n  const updateDate = (days) => {\n    const updatedDate = date[0].add(days, 'day');\n    setDate([updatedDate, updatedDate]);\n  };\n\n  const ItemTable = (props) => {\n    return (\n      <Table\n        bordered\n        style={{ width: '100%', marginLeft: 0 }}\n        size=\"middle\"\n        pagination={{\n          position: [\"none\", \"bottomCenter\"],\n          pageSize: 5\n        }}\n        columns={itemsTableColumn}\n        dataSource={props.itemData || []}\n      />\n    )\n  }\n\n  const clearFilter = () => {\n    setSelectedContact(null);\n    setSelectedStatus(null);\n  }\n\n  useEffect(() => {\n    // Toggle date change button visibility based on date comparison\n    setIsdateChangeBtnVisible(date[0].isSame(date[1], 'day'));\n\n    // fetch orders\n    fetchOrders();\n  }, [date]);\n\n  useEffect(() => {\n    getAllContacts();\n    getAllItems();\n    getAllAgents();\n  }, []);\n\n  return (\n    <ColFlex ai=\"center\" minH={false ? `${screenHeight}` : \"100vh\"} maxW=\"500px\" w=\"100%\" bgc=\"#fff\" style={{ position: \"relative\" }}>\n      <CommonHeader title=\"Sales\" bgc=\"seagreen\" onBack={()=>navigate(-1)} rightContent={checkAccess('EDIT_SALE_ORDER') ? <HeaderContent /> : null} />\n      <ColFlex m=\"0\" w=\"100%\" p=\"20px\" gap=\"20px\">\n        {\n          checkAccess('EDIT_SALE_ORDER') && \n          <RowFlex w=\"100%\" m=\"0\" gap=\"20px\">\n            <CaretCircleLeft size={32} color=\"#8c8c8c\" display={isdateChangeBtnVisible ? \"block\" : \"none\"} onClick={()=>updateDate(-1)} />\n            <DatePicker.RangePicker value={date} style={{ alignSelf: \"end\", width: \"100%\" }} onChange={onDateChange} format=\"DD/MM/YYYY\" popupClassName=\"yolup\" />\n            <CaretCircleRight size={32} color=\"#8c8c8c\" display={isdateChangeBtnVisible ? \"block\" : \"none\"} onClick={()=>updateDate(1)} />\n          </RowFlex>\n        }\n        <RowFlex w=\"100%\" m=\"0\" gap=\"20px\">\n          <Select\n              showSearch\n              value={selectedContact}\n              placeholder=\"customers\"\n              optionFilterProp=\"label\"\n              popupMatchSelectWidth={false}\n              filterSort={(optionA, optionB) =>\n                  (optionA?.label ?? '').toLowerCase().localeCompare((optionB?.label ?? '').toLowerCase())\n              }\n              options={allContacts}\n              style={{ minWidth: '40%', width: '100%' }}\n              onChange={(e) => setSelectedContact(e)}\n          />\n          <Select\n              value={selectedStatus}\n              options={SaleOrderStatus}\n              placeholder=\"status\"\n              style={{ width: 'fit-content'}}\n              popupMatchSelectWidth={false}\n              onChange={(newStatus) => setSelectedStatus(newStatus)}\n          />\n          <ArrowsClockwise size={32} weight=\"bold\" color=\"#00000070\" onClick={clearFilter} />\n        </RowFlex>\n        <Table\n          style={{ width: '100%' }}\n          size=\"middle\"\n          pagination={{\n            position: [\"none\", \"bottomCenter\"],\n            pageSize: 15\n          }}\n          columns={columns}\n          dataSource={filteredSaleOrders || []}\n          expandable={{\n            expandIcon: () => null,\n            expandIconColumnIndex: -1,\n            expandRowByClick: true,\n            expandedRowRender: (record) => <StyledDiv id=\"1234\" w=\"100%\">\n              <ItemTable itemData={record.items} />\n              <Descriptions\n                title=\"\"\n                size=\"small\"\n                style={{marginBottom: \"10px\"}}\n                layout=\"vertical\"\n                bordered\n                column={{ xs: 2 }}\n                items={[\n                  {\n                    key: '1',\n                    label: 'Agent',\n                    children: record.agentName,\n                  },{\n                    key: '2',\n                    label: 'Containers',\n                    children: record.containers?.map((e)=><>{e.type} : {e.quantity}<br/></>),\n                  },\n                  {\n                    key: '3',\n                    label: 'Total',\n                    children: `₹ ${addCommas(record.items.reduce((curr, acc) => {\n                      return curr + (acc.itemTotal || 0);\n                    }, 0))}`,\n                  }\n                ]}\n              />\n            </StyledDiv>\n          }}\n          rowKey={(_, i) => i}\n        />\n      </ColFlex>\n      <AddSalesOrder\n        open={addSaleModalOpen}\n        onClose={() => setAddSaleModalOpen(false)}\n        allContacts={allContacts}\n        getAllContacts={getAllContacts}\n        allItems={allItems}\n        getAllItems={getAllItems}\n        allAgents={allAgents}\n        fetchOrders={fetchOrders}\n      />\n      <EditSalesOrder\n        open={editSaleModalOpen}\n        onClose={() => setEditSaleModalOpen(false)}\n        saleOrder={selectedSaleOrder}\n        allContacts={allContacts}\n        allItems={allItems}\n        allAgents={allAgents}\n        itemNameToIdMap={itemNameToIdMap}\n      />\n    </ColFlex>\n  );\n};\n\nexport default SaleOrder;\n","import { Button } from \"antd\";\nimport styled from \"styled-components\";;\n\nexport const StyledPillButton = styled(Button)`\n  background: ${(props) =>\n    props.isActive ? props.activeBgc || \"\" : props.bgc || \"\"} !important;\n  width: ${(props) => (props.isActive ? props.activeW || \"\" : props.w || \"\")};\n  display: ${(props) => props.d || \"\"};\n  height: ${(props) => props.h || \"\"};\n  font-size: ${(props) => props.fs || \"16px\"};\n  font-weight: ${(props) => props.fw || \"500\"};\n  font-family: ${(props) => props.ff};\n  margin: ${(props) => props.m || \"\"};\n  margin-right: ${(props) => props.mr || \"\"};\n  padding: ${(props) => props.p || \"\"};\n  border: ${(props) =>\n    props.b || \"1px solid rgba(217, 217, 217, 1)\"} !important;\n  border-radius: ${(props) => props.br || \"45px\"};\n  color: ${(props) =>\n    props.isActive\n      ? props.activeC || \"rgba(255, 255, 255, 1)\"\n      : props.c || \"rgba(48, 48, 48, 1)\"} !important;\n  margin-bottom: ${(props) => props.mb || \"\"};\n  margin-top: ${(props) => props.mt || \"\"};\n  ${(props) => props.bottom && `bottom: ${props.bottom};`}\n  &:focus {\n    background: ${(props) => props.focusbgc || \"\"} !important;\n    border: ${(props) => props.b || \"\"} !important;\n  }\n  &:disabled {\n    background: grey !important;\n    color: #ccc !important;\n    cursor: not-allowed !important;\n    border: none !important;\n  }\n`;\nexport const StyledButton = styled(Button)`\n  background: ${(props) => props.bgc || \"#FFF\"} !important;\n  width: ${(props) => props.w || \"\"};\n  display: ${(props) => props.d || \"\"};\n  height: ${(props) => props.h || \"46px\"};\n  font-size: ${(props) => props.fs || \"16px\"};\n  font-weight: ${(props) => props.fw || \"500\"};\n  font-family: ${(props) => props.ff};\n  margin: ${(props) => props.m || \"\"};\n  margin-right: ${(props) => props.mr || \"\"};\n  padding: ${(props) => props.p || \"\"};\n  border: ${(props) => props.b || \"\"} !important;\n  border-radius: ${(props) => props.br || \"10px\"};\n  color: ${(props) => props.c || \"#3465FF\"} !important;\n  margin-bottom: ${(props) => props.mb || \"\"};\n  margin-top: ${(props) => props.mt || \"\"};\n  ${(props) => props.bottom && `bottom: ${props.bottom};`}\n\n  &:hover {\n    background: ${(props) =>\n      props.hoverbgc ? props.hoverbgc : props.bgc || \"\"} !important;\n    border: ${(props) => props.b || \"0px\"} !important;\n    color: ${(props) => props.c || \"#3465FF\"} !important;\n  }\n  &:focus {\n    background: ${(props) => props.focusbgc || \"\"} !important;\n    border: ${(props) => props.b || \"\"} !important;\n    color: ${(props) => props.c || \"#3465FF\"} !important;\n  }\n  &:disabled {\n    background: grey !important;\n    color: #ccc !important;\n    cursor: not-allowed !important;\n    border: none !important;\n  }\n`;\n","import { API_URL, request } from \"../../common-utils\";\n\nexport const fetchSalesOrder = (payload) => {\n    const url = `${API_URL}/saleOrder/list-all`;\n\n    return request({\n        url: url,\n        method: \"post\",\n        data: payload,\n        headers: {\n            \"Content-Type\": \"application/json\"\n        }\n    });\n}\n\nexport const fetchAllContacts = () => {\n    const url = `${API_URL}/contact/list-all`;\n\n    return request({\n        url: url,\n        method: \"get\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        }\n    });\n}\n\nexport const fetchAllItems = () => {\n    const url = `${API_URL}/item/list-all`;\n\n    return request({\n        url: url,\n        method: \"get\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        }\n    });\n}\n\nexport const addSaleOrder = (payload) => {\n    const url = `${API_URL}/saleOrder/add-sale-order`;\n\n    return request({\n        url: url,\n        method: \"post\",\n        data: payload,\n        headers: {\n            \"Content-Type\": \"application/json\"\n        }\n    });\n}\n\nexport const updateSaleOrder = (id, payload) => {\n    const url = `${API_URL}/saleOrder/update-sale-order/${id}`;\n\n    return request({\n        url: url,\n        method: \"post\",\n        data: payload,\n        headers: {\n            \"Content-Type\": \"application/json\"\n        }\n    });\n}\n\nexport const updateSalesOrderStatus = (id, payload) => {\n    const url = `${API_URL}/saleOrder/update-sale-order-status/${id}`;\n\n    return request({\n        url: url,\n        method: \"post\",\n        data: payload,\n        headers: {\n            \"Content-Type\": \"application/json\"\n        }\n    });\n}\n"],"names":["props","title","onBack","rightContent","bgc","_jsxs","RowFlex","w","h","m","p","bg","children","gap","_jsx","CaretLeft","size","color","onClick","StyledText","fs","lh","fw","ff","c","mb","statusDesign","dateTimestamp","dayjs","valueOf","open","onClose","allContacts","allItems","allAgents","fetchOrders","loading","setLoading","useState","totalAmount","setTotalAmount","form","Form","useForm","handleItemTotal","lineItems","getFieldValue","total","item","quantity","rate","closePopup","resetFields","Modal","footer","onCancel","styles","content","padding","style","top","StyledDiv","pos","right","fontWeight","fontSize","addCommas","labelCol","xs","span","sm","wrapperCol","initialValues","saleType","date","layout","maxWidth","margin","onFinish","async","_values$lineItems","payload","saleOrder","contactId","values","agentId","map","itemId","type","unit","itemTotal","containers","addSaleOrder","message","success","err","handleCatch","Item","name","textAlign","rules","required","getValueProps","value","Number","normalize","DatePicker","format","Select","showSearch","placeholder","optionFilterProp","filterSort","optionA","optionB","_optionA$label","_optionB$label","label","toLowerCase","localeCompare","options","Radio","noStyle","shouldUpdate","prevValues","currentValues","_ref","popupMatchSelectWidth","_optionA$label2","_optionB$label2","List","validator","_","names","length","Promise","reject","Error","fields","_ref2","_ref3","add","remove","errors","_Fragment","_ref4","key","restField","Space","display","align","_optionA$label3","_optionB$label3","width","Input","marginBottom","onChange","initialValue","ItemUnits","Option","prefix","MinusCircle","Button","block","icon","PlusCircle","ErrorList","_ref5","_ref6","_ref7","ContainerTypes","htmlType","React","ItemTableEditableCell","editable","dataIndex","record","itemNameToIdMap","handleSave","restProps","editing","setEditing","inputRef","useRef","useContext","EditableContext","useEffect","_inputRef$current","current","focus","toggleEdit","setFieldsValue","save","validateFields","itemDetails","get","errInfo","console","log","formField","ref","onBlur","onPressEnter","childNode","className","paddingInlineEnd","ContainerTableEditableCell","_inputRef$current2","ItemTableEditableRow","index","component","Provider","ContainerTableEditableRow","setContactId","setAgentId","setLineItems","container","setContainers","currentPage","setCurrentPage","setDate","setSaleType","handleAdd","newData","updatedLineItems","Math","ceil","row","findIndex","id","splice","handleContainerAdd","updatedContainers","handleContainerSave","containerTableColumn","onCell","render","i","filter","handleContainerDelete","columns","data","col","error","handleDelete","items","ColFlex","alignSelf","marginTop","e","v","optionType","target","Table","bordered","dataSource","rowClassName","pagination","position","pageSize","handleTableChange","components","body","cell","marginLeft","StyledPillButton","saleOrderData","isSame","updateSaleOrder","XLSX","require","SaleOrderStatus","ta","SaleOrder","navigate","useNavigate","setSaleOrderData","filteredSaleOrders","setFilteredSaleOrders","addSaleModalOpen","setAddSaleModalOpen","editSaleModalOpen","setEditSaleModalOpen","selectedSaleOrder","setSelectedSaleOrder","setAllContacts","setItemNameToIdMap","Map","setAllItems","setAllAgents","isdateChangeBtnVisible","setIsdateChangeBtnVisible","selectedContact","setSelectedContact","selectedStatus","setSelectedStatus","filteredValue","onFilter","checkAccess","push","status","stopPropagation","newStatus","updatedData","updateSalesOrderStatus","originalData","handleStatusChange","rowData","PencilSimple","weight","Tag","itemsTableColumn","find","handleDownload","downloadExcel","salesData","startDate","endDate","formatDate","dateString","salesByDate","reduce","acc","order","workbook","utils","book_new","Object","keys","forEach","dataRows","flatMap","contactName","salesOrderNumber","invoiceStatus","amount","worksheet","json_to_sheet","book_append_sheet","writeFile","HeaderContent","StyledButton","shape","Plus","DownloadSimple","getAllContacts","res","fetchAllContacts","_res$data","contactForSelect","contact","displayName","getAllItems","fetchAllItems","_res$data2","itemsMap","itemsForSelect","has","set","fetchSalesOrder","startOf","endOf","updateDate","days","updatedDate","ItemTable","itemData","fetchAllAgents","_res$data3","AgentsForSelect","agent","getAllAgents","ai","minH","maxW","CommonHeader","CaretCircleLeft","RangePicker","onDateChange","dates","dateFunc","popupClassName","CaretCircleRight","minWidth","ArrowsClockwise","clearFilter","expandable","expandIcon","expandIconColumnIndex","expandRowByClick","expandedRowRender","_record$containers","Descriptions","column","agentName","curr","rowKey","AddSalesOrder","EditSalesOrder","styled","isActive","activeBgc","activeW","d","mr","b","br","activeC","mt","bottom","focusbgc","hoverbgc","url","API_URL","request","method","headers"],"sourceRoot":""}